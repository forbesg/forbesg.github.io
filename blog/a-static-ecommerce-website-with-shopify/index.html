<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>A Static Ecommerce Website with Shopify | Forbes Gray | Edinburgh</title><meta name="gridsome:hash" content="fda3784e1a94b5ab76027db3a100f41f154abb64"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.23"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="og:image:width" property="og:image:width" content="1200"><meta data-vue-tag="ssr" data-key="og:image:height" property="og:image:height" content="630"><meta data-vue-tag="ssr" data-key="og:site_name" property="og:site_name" content="Forbes Gray | Website Developer Edinburgh"><meta data-vue-tag="ssr" data-key="og:type" property="og:type" content="website"><meta data-vue-tag="ssr" data-key="og:locale" property="og:locale" content="en_GB"><meta data-vue-tag="ssr" data-key="twitter:card" name="twitter:card" content="summary_large_image"><meta data-vue-tag="ssr" data-key="twitter:site" name="twitter:site" content="@4beez"><meta data-vue-tag="ssr" data-key="twitter:creator" name="twitter:creator" content="@4beez"><meta data-vue-tag="ssr" data-key="author" name="author" content="Forbes Gray &lt;fnbg75@gmail.com&gt;"><meta data-vue-tag="ssr" name="msapplication-TileColor" content="#00aba9"><meta data-vue-tag="ssr" name="theme-color" content="#083749"><meta data-vue-tag="ssr" name="robots" content="all"><meta data-vue-tag="ssr" data-key="description" name="description" content="Shopify has become one of the go-to ecommerce platforms. We can create a simple fast online shopping experience hooking in to the Shopify Storefront API."><meta data-vue-tag="ssr" data-key="og:title" property="og:title" content="A Static Ecommerce Website with Shopify | Forbes Gray | Edinburgh"><meta data-vue-tag="ssr" data-key="og:description" property="og:description" content="Shopify has become one of the go-to ecommerce platforms. We can create a simple fast online shopping experience hooking in to the Shopify Storefront API."><meta data-vue-tag="ssr" data-key="og:url" property="og:url" content="https://forbesg.github.io/blog/a-static-ecommerce-website-with-shopify/"><meta data-vue-tag="ssr" data-key="og:image" property="og:image" content="https://forbesg.github.io/images/articles/shopify-graphql-jamstack.jpg.png"><meta data-vue-tag="ssr" data-key="og:image:alt" property="og:image:alt" content="Shopify Storefront API, GraphQL, Static Ecommerce Website"><meta data-vue-tag="ssr" data-key="twitter:title" name="twitter:title" content="A Static Ecommerce Website with Shopify | Forbes Gray | Edinburgh"><meta data-vue-tag="ssr" data-key="twitter:description" name="twitter:description" content="Shopify has become one of the go-to ecommerce platforms. We can create a simple fast online shopping experience hooking in to the Shopify Storefront API."><meta data-vue-tag="ssr" data-key="twitter:image" name="twitter:image" content="https://forbesg.github.io/images/articles/shopify-graphql-jamstack.jpg.png"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.b7199ed68c22894bb353d83fc6b614ef.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.b7199ed68c22894bb353d83fc6b614ef.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.b7199ed68c22894bb353d83fc6b614ef.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/favicon.f22e9f3.b7199ed68c22894bb353d83fc6b614ef.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/assets/static/favicon.62d22cb.b7199ed68c22894bb353d83fc6b614ef.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/assets/static/favicon.1539b60.b7199ed68c22894bb353d83fc6b614ef.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/assets/static/favicon.dc0cdc5.b7199ed68c22894bb353d83fc6b614ef.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/assets/static/favicon.7b22250.b7199ed68c22894bb353d83fc6b614ef.png"><link data-vue-tag="ssr" rel="preconnect" href="https://fonts.gstatic.com"><link data-vue-tag="ssr" rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Catamaran:wght@400;700&amp;family=Montserrat:wght@700&amp;display=block"><link data-vue-tag="ssr" rel="apple-touch-icon" sizes="108x180" href="/apple-touch-icon.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link data-vue-tag="ssr" rel="manifest" href="/site.webmanifest"><link data-vue-tag="ssr" rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link data-vue-tag="ssr" data-key="canonical" rel="canonical" href="https://forbesg.github.io/blog/a-static-ecommerce-website-with-shopify/"><link rel="preload" href="/assets/css/0.styles.ba7f9536.css" as="style"><link rel="preload" href="/assets/js/app.53a67b07.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--article-vue.e39da383.js" as="script"><link rel="prefetch" href="/assets/js/page--node-modules--gridsome--app--pages--404-vue.555fa56a.js"><link rel="prefetch" href="/assets/js/page--src--pages--about-vue.30e08066.js"><link rel="prefetch" href="/assets/js/page--src--pages--blog--index-vue.21ac2135.js"><link rel="prefetch" href="/assets/js/page--src--pages--blog--tags--index-vue.013d826d.js"><link rel="prefetch" href="/assets/js/page--src--pages--contact-vue.8a31c8b1.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-vue.2e4fafb5.js"><link rel="prefetch" href="/assets/js/page--src--pages--meet-the-team--index-vue.160287b7.js"><link rel="prefetch" href="/assets/js/page--src--pages--portfolio--blackberry-vue.54fc5557.js"><link rel="prefetch" href="/assets/js/page--src--pages--portfolio--index-vue.f08a409a.js"><link rel="prefetch" href="/assets/js/page--src--pages--portfolio--web-application-vue.10e4ca44.js"><link rel="prefetch" href="/assets/js/page--src--pages--portfolio--website-vue.943b9c82.js"><link rel="prefetch" href="/assets/js/page--src--pages--services-vue.05b2041e.js"><link rel="prefetch" href="/assets/js/page--src--templates--project-vue.662cec84.js"><link rel="prefetch" href="/assets/js/page--src--templates--tag-vue.e1eac9f6.js"><link rel="prefetch" href="/assets/js/page--src--templates--team-vue.dc7acb73.js"><link rel="stylesheet" href="/assets/css/0.styles.ba7f9536.css"><script data-vue-tag="ssr" type="application/ld+json">{"@context":"https://schema.org","@type":"Article","image":["https://forbesg.github.io/images/articles/shopify-graphql-jamstack.jpg.png"],"datePublished":"2022-06-26T09:30:00.000Z","author":[{"@type":"Person","name":"Forbes Gray","url":"https://forbesg.github.io/meet-the-team/forbes-gray/","sameAs":["https://uk.linkedin.com/in/forbesgray","https://twitter.com/4beez"]}],"headline":"A Static Ecommerce Website with Shopify","description":"Shopify has become one of the go-to ecommerce platforms. We can create a simple fast online shopping experience hooking in to the Shopify Storefront API."}</script><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <div data-server-rendered="true" id="app" class="layout"><div class="main-header" data-v-10ef07be><div class="container" data-v-10ef07be><div class="logo" data-v-02e7f250 data-v-10ef07be><img src="/logo.svg" alt="Forbes Gray" data-v-02e7f250><a href="/" class="active" data-v-02e7f250>forbes <span class="text-primary" data-v-02e7f250>Gray</span></a></div><nav class="main-nav" data-v-10ef07be><a href="/" class="fixed homepage-link active" data-v-10ef07be>Home</a><a href="/services/" class="fixed" data-v-10ef07be>Services</a><a href="/portfolio/" class="fixed" data-v-10ef07be>Portfolio</a><a href="/blog/" class="fixed active" data-v-10ef07be>Blog</a></nav><div class="action" data-v-10ef07be><a href="/contact/" class="button" data-v-10ef07be>Hire Me</a><div class="hamburger" data-v-10ef07be><span data-v-10ef07be></span><span data-v-10ef07be></span><span data-v-10ef07be></span></div></div></div></div><div id="shadow-sentinal"></div><main class="article"><div class="banner"><img src="/images/articles/shopify-graphql-jamstack.jpg.png" alt="Shopify Storefront API, GraphQL, Static Ecommerce Website"><div class="banner-title"><div class="container banner-title--inner-wrapper"><h1>A Static Ecommerce Website with Shopify</h1><h2 class="highlight-overline">
            Using the Shopify Storefront API to create a fast unique e-commerce website
          </h2></div></div></div><div class="container"><div class="breadcrumbs"><ol itemscope="itemscope" itemtype="https://schema.org/BreadcrumbList"><li itemprop="itemListElement" itemscope="itemscope" itemtype="https://schema.org/ListItem"><a href="/" itemprop="item" itemid="https://forbesg.github.io" class="active"><span itemprop="name">Home</span><meta itemprop="position" content="1"></a></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="https://schema.org/ListItem"><a href="/blog/" itemprop="item" itemid="https://forbesg.github.io/blog/" class="active"><span itemprop="name">Blog</span><meta itemprop="position" content="2"></a></li><li itemprop="itemListElement" itemscope="itemscope" itemtype="https://schema.org/ListItem"><span itemprop="name">A Static Ecommerce Website with Shopify</span><meta itemprop="position" content="3"></li></ol></div><article><div class="credits"><div><a href="/meet-the-team/forbes-gray/">Forbes Gray</a>
            -
            <a href="https://www.twitter.com/@4beez" target="_blank" rel="noopener">@4beez</a><span class="date">
              Sunday, 26 June 2022, 10:30
            </span></div></div><div class="markdown-content"><h2 id="the-storefront-api"><a href="#the-storefront-api" aria-hidden="true"><span class="icon icon-link"></span></a>The Storefront API</h2>
<p>When looking into possible ecommerce frameworks, it is hard not to stumble across Shopify. Over the past 5 to 10 years it has become a bit of a monster when it comes to the online shopping space. What has also been encoraging is that they have continued to innovate and lead the way in terms of development, and were quick to move with the times as the JAMstack trend took hold.</p>
<p>The Storefront API allows access to the ecommerce store &#x26; product data via a GraphQL API which allows you to request precisely the information that you require to construct the page, keeping everything as lightweight as possible. In addition to this it handles customer authentication.</p>
<h3 id="what-well-build"><a href="#what-well-build" aria-hidden="true"><span class="icon icon-link"></span></a>What we'll build</h3>
<p>I wanted to test <a href="https://shopify.dev/api/storefront" target="_blank" rel="nofollow noopener noreferrer">Shopify's Storefront API</a>, so came up with a simple ecommerce grocery store idea to test the API.</p>
<p>The beauty of this architecture is that you are able to access your store data through multiple channels (websites, apps, POS devices) whilst retaining the ability to manage your stores backend using Shopify's familiar and well-tested platform.</p>
<p><img src="/images/articles/farm-foods-store.jpg" alt="Farm Foods Store Screenshot"></p>
<h3 id="the-frontend"><a href="#the-frontend" aria-hidden="true"><span class="icon icon-link"></span></a>The Frontend</h3>
<p>For the frontend (website) I chose to use NuxtJS, however a similar approach could be taken with anu modern frontend web framework. With Nuxt I am able to choose whether to make the website a static site (pre-built and server as static pages) or server rendered (pages are constructed on every request). For this example I will be choosing to create a static build of the site which means it can be hosted for free and will be very fast.</p>
<p>I styled the site a little using Tailwind css but we will not be going into the detail of that here. Tailwind was good for quickly creating a responsive website that doesn't look totally awful.</p>
<p>The first step was to install a fresh version of NuxtJS and including tailwind.</p>
<pre><code class="language-bash">npx create-nuxt-app farm-foods-store

cd farm-foods-store
npm install
</code></pre>
<p>With Nuxt installed we then need to add the node shopify api library to enable us to easily interact with the Storefront API.</p>
<pre><code class="language-bash">npm install @shopify/shopify-api
</code></pre>
<h3 id="setting-up-the-shopify-store"><a href="#setting-up-the-shopify-store" aria-hidden="true"><span class="icon icon-link"></span></a>Setting Up The Shopify Store</h3>
<p>First we need to create a Shopify Store to work with. Sign up or login to <a href="https://shopify.com" target="_blank" rel="nofollow noopener noreferrer">Shopify</a> and create a new development store. Follow the setup guide to give the store a name, location and contact details and prompted to add some products.</p>
<p>Once the store is created and we have some products to work with, we need to create a Private App to enable us to interact with the API securely. Enter your newly created store admin site and open the settings menu and select Apps and sales channels -> App development and Create an App.</p>
<p>We give the new private app a name (e.g Storefront API) and scroll down to the Storefront API section. Check the box to allow the app to access storefront data and ensure that all subsequent permissions are checked. At the bottom of this section we can find the Storefront Access Token that we need to allow our website to access the API.</p>
<h3 id="hook-up-our-website-to-the-api"><a href="#hook-up-our-website-to-the-api" aria-hidden="true"><span class="icon icon-link"></span></a>Hook Up Our Website To The API</h3>
<p>Now we have an access token for the Storefront API we need to give Nuxt the credentials needed to communicate with our stores backend. In the root of our Nuxt project create a .env file and include the following....</p>
<pre><code class="language-bash">// .env

NUXT_STORE_URL=https://&#x3C;the-store-name>.myshopify.com
NUXT_STORE_API_ENDPOINT=https://&#x3C;the-store-name>.myshopify.com/api/2021-10/graphql.json
NUXT_STORE_ACCESS_TOKEN=&#x3C;access token created in the previous step>
</code></pre>
<p>Nuxt automatically pulls in the environment variables from the .env file but we do need to make them accessible by the frontend of the site. This is easliy achieved using Nuxt's publicRuntimeConfig, values that can be access from the client side of the website. In the nuxt.config.js we can add the enviorment variables to the publicRuntimeConfig.</p>
<pre><code class="language-javascript">// nuxt.config.js

const storeUrl = process.env.NUXT_STORE_URL;
const storeAPIEndpoint = process.env.NUXT_STORE_API_ENDPOINT;
const storeAccessToken = process.env.NUXT_STORE_ACCESS_TOKEN;

export default {
  ...
  publicRuntimeConfig: {
    storeUrl,
    storeAPIEndpoint,
    storeAccessToken,
  },
  ...
};
</code></pre>
<h3 id="the-last-piece-of-the-jigsaw"><a href="#the-last-piece-of-the-jigsaw" aria-hidden="true"><span class="icon icon-link"></span></a>The Last Piece of the Jigsaw</h3>
<h4 id="connecting-to-the-shopify-api"><a href="#connecting-to-the-shopify-api" aria-hidden="true"><span class="icon icon-link"></span></a>Connecting to the Shopify API</h4>
<p>We have one final thing to do to enable requests to be made to the Shopify GraphQL API. We have installed the Shopify API library but we still need to give the site access to it and instantiate a client with the store API credentials.</p>
<p>What we will do is create a <a href="https://nuxtjs.org/docs/directory-structure/plugins" target="_blank" rel="nofollow noopener noreferrer">Nuxt plugin</a> to instatiate the client and then inject it into the Vue instance so we can call the API from anywhere within our application. Thanks to the Nuxt publicRuntimeConfig, we can access all the environment variables that we previously set up using the <code>$config</code> property passed to the plugin.</p>
<pre><code class="language-javascript">// ~/plugins/shopify.js

export default ({ app: { $config } }, inject) => {
  const client = function(query, variables) {
    return fetch($config.storeAPIEndpoint, {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        "X-Shopify-Storefront-Access-Token": $config.storeAccessToken,
      },
      body: JSON.stringify({ query, variables: variables || null }),
    });
  };
  inject("client", client);
};
</code></pre>
<p>As you can see we are setting up the client request with the necessary headers and passing in the GraphQL query and variables. Finally we inject the client function into the application context making it accessible using the app contexts <code>$client</code> property.</p>
<p>Finally, let's make a request to the API from the products page asyncData method.</p>
<pre><code class="language-javascript">// ~/pages/products.vue
export default {
  async asyncData({ $client }) {
    const query = `
      {
        products (first: 3) {
          edges {
            node {
              title
              productType
              description
            }
          }
        }
      }
    `;

    const {
      data: { products },
    } = await $client(query).then((res) => res.json());

    /**  Shopify Storefront API Response
      {
        "data": {
          "products": {
            "edges": [
              {
                "node": {
                  "title": "Carrots",
                  "productType": "Fresh &#x26; Frozen Vegetables",
                  "description": "Fresh Carrots. Very Orange"
                }
              },
              {
                "node": {
                  "title": "Broccoli",
                  "productType": "Fresh &#x26; Frozen Vegetables",
                  "description": "Fresh Broccoli. Very Green"
                }
              },
              {
                "node": {
                  "title": "Cauliflower",
                  "productType": "Fresh &#x26; Frozen Vegetables",
                  "description": "Fresh Cauliflower. Very Tasty"
                }
              }
            ]
          }
        }
      },
    **/

    return { products };
  },
};
</code></pre>
<p>The asyncData method will only be called during the build process of our static site and will make all the data returned in the response available to the page component and we can create and style the page however we would like.</p>
<p>This approach of consuming Shopify ecommerce data really gives you limitless options when it comes to your UI and customer journey as well as providing customers with a fast and secure online shopping experience.</p>
<p>View the half finished test <a href="https://farm-foods-store.netlify.app/" target="_blank" rel="nofollow noopener noreferrer">Farm Foods Store website</a></p>
<p>If you would like to discuss your e-commerce project please do <a href="/contact/">get in touch</a>.</p>
</div><!----><div class="article-tags tag-container"><a href="/blog/tags/static-sites/" class="tag">Static Sites</a><a href="/blog/tags/ecommerce-sites/" class="tag">Ecommerce Websites</a></div></article></div></main><footer class="footer-margin" data-v-1bd26ea6><div class="get-in-touch-callout" data-v-1bd26ea6><div class="container" data-v-1bd26ea6><a href="/portfolio/" class="arrow" data-v-1bd26ea6>View some of my recent projects</a></div></div><div class="main-footer" data-v-1bd26ea6><div class="container" data-v-1bd26ea6><div class="left" data-v-1bd26ea6><h2 data-v-1bd26ea6>Navigation</h2><nav data-v-1bd26ea6><ul data-v-1bd26ea6><li data-v-1bd26ea6><a href="/" class="active" data-v-1bd26ea6>Home</a></li><li data-v-1bd26ea6><a href="/services/" data-v-1bd26ea6>Services</a></li><li data-v-1bd26ea6><a href="/about/" data-v-1bd26ea6>About</a></li><li data-v-1bd26ea6><a href="/portfolio/" data-v-1bd26ea6>Portfolio</a></li><li data-v-1bd26ea6><a href="/meet-the-team/" data-v-1bd26ea6>Meet The Team</a></li><li data-v-1bd26ea6><a href="/contact/" data-v-1bd26ea6>Contact</a></li></ul></nav></div><div class="middle" data-v-1bd26ea6><h2 data-v-1bd26ea6>Social Links</h2><ul data-v-1bd26ea6><li data-v-1bd26ea6><a href="https://www.github.com/forbesg" rel="noopener" target="_blank" data-v-1bd26ea6><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" data-v-1bd26ea6><title data-v-1bd26ea6>GitHub icon</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12" data-v-1bd26ea6></path></svg>
              forbesg
            </a></li><li data-v-1bd26ea6><a href="https://www.twitter.com/4beez" rel="noopener" target="_blank" data-v-1bd26ea6><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" data-v-1bd26ea6><title data-v-1bd26ea6>Twitter icon</title><path d="M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z" data-v-1bd26ea6></path></svg>
              @4beez
            </a></li><li data-v-1bd26ea6><a href="https://www.instagram.com/4beeeez" rel="noopener" target="_blank" data-v-1bd26ea6><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" data-v-1bd26ea6><title data-v-1bd26ea6>Instagram icon</title><path d="M12 0C8.74 0 8.333.015 7.053.072 5.775.132 4.905.333 4.14.63c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.14C.333 4.905.131 5.775.072 7.053.012 8.333 0 8.74 0 12s.015 3.667.072 4.947c.06 1.277.261 2.148.558 2.913.306.788.717 1.459 1.384 2.126.667.666 1.336 1.079 2.126 1.384.766.296 1.636.499 2.913.558C8.333 23.988 8.74 24 12 24s3.667-.015 4.947-.072c1.277-.06 2.148-.262 2.913-.558.788-.306 1.459-.718 2.126-1.384.666-.667 1.079-1.335 1.384-2.126.296-.765.499-1.636.558-2.913.06-1.28.072-1.687.072-4.947s-.015-3.667-.072-4.947c-.06-1.277-.262-2.149-.558-2.913-.306-.789-.718-1.459-1.384-2.126C21.319 1.347 20.651.935 19.86.63c-.765-.297-1.636-.499-2.913-.558C15.667.012 15.26 0 12 0zm0 2.16c3.203 0 3.585.016 4.85.071 1.17.055 1.805.249 2.227.415.562.217.96.477 1.382.896.419.42.679.819.896 1.381.164.422.36 1.057.413 2.227.057 1.266.07 1.646.07 4.85s-.015 3.585-.074 4.85c-.061 1.17-.256 1.805-.421 2.227-.224.562-.479.96-.899 1.382-.419.419-.824.679-1.38.896-.42.164-1.065.36-2.235.413-1.274.057-1.649.07-4.859.07-3.211 0-3.586-.015-4.859-.074-1.171-.061-1.816-.256-2.236-.421-.569-.224-.96-.479-1.379-.899-.421-.419-.69-.824-.9-1.38-.165-.42-.359-1.065-.42-2.235-.045-1.26-.061-1.649-.061-4.844 0-3.196.016-3.586.061-4.861.061-1.17.255-1.814.42-2.234.21-.57.479-.96.9-1.381.419-.419.81-.689 1.379-.898.42-.166 1.051-.361 2.221-.421 1.275-.045 1.65-.06 4.859-.06l.045.03zm0 3.678c-3.405 0-6.162 2.76-6.162 6.162 0 3.405 2.76 6.162 6.162 6.162 3.405 0 6.162-2.76 6.162-6.162 0-3.405-2.76-6.162-6.162-6.162zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm7.846-10.405c0 .795-.646 1.44-1.44 1.44-.795 0-1.44-.646-1.44-1.44 0-.794.646-1.439 1.44-1.439.793-.001 1.44.645 1.44 1.439z" data-v-1bd26ea6></path></svg>
              @4beeeez
            </a></li></ul></div><div class="right" data-v-1bd26ea6><h2 data-v-1bd26ea6>Contact</h2><address data-v-1bd26ea6>
          5 Park Place,<br data-v-1bd26ea6>
          Edinburgh.<br data-v-1bd26ea6>
          EH6 4LB
        </address></div></div></div><div class="copy" data-v-1bd26ea6><p data-v-1bd26ea6>© Forbes Gray 2022</p></div></footer></div>
    <script>window.__INITIAL_STATE__={"data":{"article":{"title":"A Static Ecommerce Website with Shopify","description":"Shopify has become one of the go-to ecommerce platforms. We can create a simple fast online shopping experience hooking in to the Shopify Storefront API.","tags":[{"id":"2","title":"Static Sites","path":"\u002Fblog\u002Ftags\u002Fstatic-sites\u002F"},{"id":"3","title":"Ecommerce Websites","path":"\u002Fblog\u002Ftags\u002Fecommerce-sites\u002F"}],"subhead":"Using the Shopify Storefront API to create a fast unique e-commerce website","content":"\u003Ch2 id=\"the-storefront-api\"\u003E\u003Ca href=\"#the-storefront-api\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EThe Storefront API\u003C\u002Fh2\u003E\n\u003Cp\u003EWhen looking into possible ecommerce frameworks, it is hard not to stumble across Shopify. Over the past 5 to 10 years it has become a bit of a monster when it comes to the online shopping space. What has also been encoraging is that they have continued to innovate and lead the way in terms of development, and were quick to move with the times as the JAMstack trend took hold.\u003C\u002Fp\u003E\n\u003Cp\u003EThe Storefront API allows access to the ecommerce store &#x26; product data via a GraphQL API which allows you to request precisely the information that you require to construct the page, keeping everything as lightweight as possible. In addition to this it handles customer authentication.\u003C\u002Fp\u003E\n\u003Ch3 id=\"what-well-build\"\u003E\u003Ca href=\"#what-well-build\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EWhat we'll build\u003C\u002Fh3\u003E\n\u003Cp\u003EI wanted to test \u003Ca href=\"https:\u002F\u002Fshopify.dev\u002Fapi\u002Fstorefront\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003EShopify's Storefront API\u003C\u002Fa\u003E, so came up with a simple ecommerce grocery store idea to test the API.\u003C\u002Fp\u003E\n\u003Cp\u003EThe beauty of this architecture is that you are able to access your store data through multiple channels (websites, apps, POS devices) whilst retaining the ability to manage your stores backend using Shopify's familiar and well-tested platform.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"\u002Fimages\u002Farticles\u002Ffarm-foods-store.jpg\" alt=\"Farm Foods Store Screenshot\"\u003E\u003C\u002Fp\u003E\n\u003Ch3 id=\"the-frontend\"\u003E\u003Ca href=\"#the-frontend\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EThe Frontend\u003C\u002Fh3\u003E\n\u003Cp\u003EFor the frontend (website) I chose to use NuxtJS, however a similar approach could be taken with anu modern frontend web framework. With Nuxt I am able to choose whether to make the website a static site (pre-built and server as static pages) or server rendered (pages are constructed on every request). For this example I will be choosing to create a static build of the site which means it can be hosted for free and will be very fast.\u003C\u002Fp\u003E\n\u003Cp\u003EI styled the site a little using Tailwind css but we will not be going into the detail of that here. Tailwind was good for quickly creating a responsive website that doesn't look totally awful.\u003C\u002Fp\u003E\n\u003Cp\u003EThe first step was to install a fresh version of NuxtJS and including tailwind.\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-bash\"\u003Enpx create-nuxt-app farm-foods-store\n\ncd farm-foods-store\nnpm install\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EWith Nuxt installed we then need to add the node shopify api library to enable us to easily interact with the Storefront API.\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-bash\"\u003Enpm install @shopify\u002Fshopify-api\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch3 id=\"setting-up-the-shopify-store\"\u003E\u003Ca href=\"#setting-up-the-shopify-store\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ESetting Up The Shopify Store\u003C\u002Fh3\u003E\n\u003Cp\u003EFirst we need to create a Shopify Store to work with. Sign up or login to \u003Ca href=\"https:\u002F\u002Fshopify.com\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003EShopify\u003C\u002Fa\u003E and create a new development store. Follow the setup guide to give the store a name, location and contact details and prompted to add some products.\u003C\u002Fp\u003E\n\u003Cp\u003EOnce the store is created and we have some products to work with, we need to create a Private App to enable us to interact with the API securely. Enter your newly created store admin site and open the settings menu and select Apps and sales channels -\u003E App development and Create an App.\u003C\u002Fp\u003E\n\u003Cp\u003EWe give the new private app a name (e.g Storefront API) and scroll down to the Storefront API section. Check the box to allow the app to access storefront data and ensure that all subsequent permissions are checked. At the bottom of this section we can find the Storefront Access Token that we need to allow our website to access the API.\u003C\u002Fp\u003E\n\u003Ch3 id=\"hook-up-our-website-to-the-api\"\u003E\u003Ca href=\"#hook-up-our-website-to-the-api\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EHook Up Our Website To The API\u003C\u002Fh3\u003E\n\u003Cp\u003ENow we have an access token for the Storefront API we need to give Nuxt the credentials needed to communicate with our stores backend. In the root of our Nuxt project create a .env file and include the following....\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-bash\"\u003E\u002F\u002F .env\n\nNUXT_STORE_URL=https:\u002F\u002F&#x3C;the-store-name\u003E.myshopify.com\nNUXT_STORE_API_ENDPOINT=https:\u002F\u002F&#x3C;the-store-name\u003E.myshopify.com\u002Fapi\u002F2021-10\u002Fgraphql.json\nNUXT_STORE_ACCESS_TOKEN=&#x3C;access token created in the previous step\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ENuxt automatically pulls in the environment variables from the .env file but we do need to make them accessible by the frontend of the site. This is easliy achieved using Nuxt's publicRuntimeConfig, values that can be access from the client side of the website. In the nuxt.config.js we can add the enviorment variables to the publicRuntimeConfig.\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-javascript\"\u003E\u002F\u002F nuxt.config.js\n\nconst storeUrl = process.env.NUXT_STORE_URL;\nconst storeAPIEndpoint = process.env.NUXT_STORE_API_ENDPOINT;\nconst storeAccessToken = process.env.NUXT_STORE_ACCESS_TOKEN;\n\nexport default {\n  ...\n  publicRuntimeConfig: {\n    storeUrl,\n    storeAPIEndpoint,\n    storeAccessToken,\n  },\n  ...\n};\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch3 id=\"the-last-piece-of-the-jigsaw\"\u003E\u003Ca href=\"#the-last-piece-of-the-jigsaw\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EThe Last Piece of the Jigsaw\u003C\u002Fh3\u003E\n\u003Ch4 id=\"connecting-to-the-shopify-api\"\u003E\u003Ca href=\"#connecting-to-the-shopify-api\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EConnecting to the Shopify API\u003C\u002Fh4\u003E\n\u003Cp\u003EWe have one final thing to do to enable requests to be made to the Shopify GraphQL API. We have installed the Shopify API library but we still need to give the site access to it and instantiate a client with the store API credentials.\u003C\u002Fp\u003E\n\u003Cp\u003EWhat we will do is create a \u003Ca href=\"https:\u002F\u002Fnuxtjs.org\u002Fdocs\u002Fdirectory-structure\u002Fplugins\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003ENuxt plugin\u003C\u002Fa\u003E to instatiate the client and then inject it into the Vue instance so we can call the API from anywhere within our application. Thanks to the Nuxt publicRuntimeConfig, we can access all the environment variables that we previously set up using the \u003Ccode\u003E$config\u003C\u002Fcode\u003E property passed to the plugin.\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-javascript\"\u003E\u002F\u002F ~\u002Fplugins\u002Fshopify.js\n\nexport default ({ app: { $config } }, inject) =\u003E {\n  const client = function(query, variables) {\n    return fetch($config.storeAPIEndpoint, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application\u002Fjson\",\n        \"X-Shopify-Storefront-Access-Token\": $config.storeAccessToken,\n      },\n      body: JSON.stringify({ query, variables: variables || null }),\n    });\n  };\n  inject(\"client\", client);\n};\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EAs you can see we are setting up the client request with the necessary headers and passing in the GraphQL query and variables. Finally we inject the client function into the application context making it accessible using the app contexts \u003Ccode\u003E$client\u003C\u002Fcode\u003E property.\u003C\u002Fp\u003E\n\u003Cp\u003EFinally, let's make a request to the API from the products page asyncData method.\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-javascript\"\u003E\u002F\u002F ~\u002Fpages\u002Fproducts.vue\nexport default {\n  async asyncData({ $client }) {\n    const query = `\n      {\n        products (first: 3) {\n          edges {\n            node {\n              title\n              productType\n              description\n            }\n          }\n        }\n      }\n    `;\n\n    const {\n      data: { products },\n    } = await $client(query).then((res) =\u003E res.json());\n\n    \u002F**  Shopify Storefront API Response\n      {\n        \"data\": {\n          \"products\": {\n            \"edges\": [\n              {\n                \"node\": {\n                  \"title\": \"Carrots\",\n                  \"productType\": \"Fresh &#x26; Frozen Vegetables\",\n                  \"description\": \"Fresh Carrots. Very Orange\"\n                }\n              },\n              {\n                \"node\": {\n                  \"title\": \"Broccoli\",\n                  \"productType\": \"Fresh &#x26; Frozen Vegetables\",\n                  \"description\": \"Fresh Broccoli. Very Green\"\n                }\n              },\n              {\n                \"node\": {\n                  \"title\": \"Cauliflower\",\n                  \"productType\": \"Fresh &#x26; Frozen Vegetables\",\n                  \"description\": \"Fresh Cauliflower. Very Tasty\"\n                }\n              }\n            ]\n          }\n        }\n      },\n    **\u002F\n\n    return { products };\n  },\n};\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EThe asyncData method will only be called during the build process of our static site and will make all the data returned in the response available to the page component and we can create and style the page however we would like.\u003C\u002Fp\u003E\n\u003Cp\u003EThis approach of consuming Shopify ecommerce data really gives you limitless options when it comes to your UI and customer journey as well as providing customers with a fast and secure online shopping experience.\u003C\u002Fp\u003E\n\u003Cp\u003EView the half finished test \u003Ca href=\"https:\u002F\u002Ffarm-foods-store.netlify.app\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003EFarm Foods Store website\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EIf you would like to discuss your e-commerce project please do \u003Ca href=\"\u002Fcontact\u002F\"\u003Eget in touch\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n","image":"\u002Fimages\u002Farticles\u002Fshopify-graphql-jamstack.jpg.png","imageAlt":"Shopify Storefront API, GraphQL, Static Ecommerce Website","path":"\u002Fblog\u002Fa-static-ecommerce-website-with-shopify\u002F","team":{"name":"Forbes Gray","twitter":"@4beez","path":"\u002Fmeet-the-team\u002Fforbes-gray\u002F","links":["https:\u002F\u002Fuk.linkedin.com\u002Fin\u002Fforbesgray","https:\u002F\u002Ftwitter.com\u002F4beez"]},"date":"26 June 2022 10:30"}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.53a67b07.js" defer></script><script src="/assets/js/page--src--templates--article-vue.e39da383.js" defer></script>
  </body>
</html>
